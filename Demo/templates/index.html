<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Dashboard</title>
  <!-- <link rel="stylesheet" href="./css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/custom.css">
    <link rel="stylesheet" href="./css/font-awesome.min.css" rel="stylesheet"> -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/custom.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/font-awesome.min.css') }}" rel="stylesheet">
  <script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
  <!-- <script src="https://code.highcharts.com/highcharts.js"></script> -->
  <!-- <script src="https://code.highcharts.com/maps/highmaps.js"></script> -->
  <script src="https://code.highcharts.com/modules/exporting.js"></script>
  <script src="https://code.highcharts.com/modules/export-data.js"></script>
  <script src="https://code.highcharts.com/stock/highstock.js"></script>
  <!-- <script src="http://code.highcharts.com/highcharts-more.js"></script> -->
  <script src="https://code.highcharts.com/highcharts-more.js"></script>
<script src="https://code.highcharts.com/maps/modules/map.js"></script>
<script src="https://code.highcharts.com/maps/modules/data.js"></script>
  <script src="https://code.highcharts.com/stock/modules/exporting.js"></script>
  <script src="https://code.highcharts.com/stock/modules/export-data.js"></script>
  <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
  <script src="https://code.highcharts.com/maps/highmaps.js"></script>
<script src="https://code.highcharts.com/modules/tilemap.js"></script>

</head>

<body class="nav-md">
  <div class="container body">
    <div class="main_container">

      <div class="col-md-3 left_col">
        <div class="left_col scroll-view">
          <a href="/" class="site_title"><i class="fa fa-paw"></i> <span>Dashboard</span></a>
        </div>
        <div class="profile clearfix">
          <div class="profile_pic">
            <img src="../static/images/img.png" alt="..." class="img-circle profile_img">
          </div>
          <div class="profile_info">
            <span>Welcome,</span>
            <h2>John Doe</h2>
          </div>
        </div>

        <div id="sidebar-menu" class="main_menu_side hidden-print main_menu">
          <div class="menu_section">
            <h3>General</h3>
            <ul class="nav side-menu">
              <li><a id="doctor"><i class="fa fa-home"></i> Doctors <span class="fa fa-chevron-down"></span></a>
                <ul class="nav child_menu">
                  <li><a href="index.html">Dashboard</a></li>
                  <li><a href="index2.html">Dashboard2</a></li>
                  <li><a href="index3.html">Dashboard3</a></li>
                </ul>
              </li>
            </ul>
          </div>
          <div class="menu_section">
            <h3>Live On</h3>
            <ul class="nav side-menu">
              <li><a id="revenue"><i class="fa fa-bug"></i> Revenue <span class="fa fa-chevron-down"></span></a>
                <ul class="nav child_menu">
                  <li><a href="e_commerce.html">E-commerce</a></li>
                  <li><a href="projects.html">Projects</a></li>
                  <li><a href="project_detail.html">Project Detail</a></li>
                  <li><a href="contacts.html">Contacts</a></li>
                  <li><a href="profile.html">Profile</a></li>
                </ul>
              </li>
            </ul>
          </div>

        </div>
      </div>

      <!-- Top Navigation -->

      <div class="top_nav">
        <div class="nav_menu">
          <nav>
            <div class="nav toggle">
              <a id="menu_toggle"><i class="fa fa-bars"></i></a>
            </div>

            <ul class="nav navbar-nav navbar-right">
              <li class="">
                <a href="javascript:;" class="user-profile dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                  <img src="../static/images/img.png" alt="">John Doe
                  <span class=" fa fa-angle-down"></span>
                </a>
                <ul class="dropdown-menu dropdown-usermenu pull-right">
                  <li><a href="javascript:;"> Profile</a></li>
                  <li>
                    <a href="javascript:;">
                      <span class="badge bg-red pull-right">50%</span>
                      <span>Settings</span>
                    </a>
                  </li>
                  <li><a href="javascript:;">Help</a></li>
                  <li><a href="login.html"><i class="fa fa-sign-out pull-right"></i> Log Out</a></li>
                </ul>
              </li>
            </ul>
          </nav>
        </div>
      </div>
      <!-- End Top Navigation -->

      <div class="right_col" role="main">
        <div id="landing-page">
          <!-- top tiles -->
          <div class="row tile_count users_data">
            <div class="col-md-4 col-sm-4 col-xs-6 tile_stats_count">
              <span class="count_top"><i class="fa fa-user"></i> Total Patients</span>
              <div class="count">3789</div>
              <!-- <span class="count_bottom"><i class="green">4% </i> From last Week</span> -->
            </div>
            <div class="col-md-4 col-sm-4 col-xs-6 tile_stats_count">
              <span class="count_top"><i class="fa fa-user"></i> Network-Entity Count</span>
              <div class="count">4</div>
              <!-- <span class="count_bottom"><i class="green"><i class="fa fa-sort-asc"></i>3% </i> From last Week</span> -->
            </div>
            <div class="col-md-4 col-sm-4 col-xs-6 tile_stats_count">
              <span class="count_top"><i class="fa fa-user"></i> Total Staffs</span>
              <div class="count">910</div>
              <!-- <span class="count_bottom"><i class="green"><i class="fa fa-sort-asc"></i>34% </i> From last Week</span> -->
            </div>

          </div>
          <!-- /top tiles -->
          <!-- second section -->
          <div class="row toggle-cards">


            <div class="col-md-6 col-sm-4 col-xs-12">
              <div class="x_panel tile">
                <div class="x_title">
                  <h2>Surgeries Performed</h2>
                  <ul class="nav navbar-right panel_toolbox">
                    <li><a class="collapse-link" data-toggle="collapse" href="#appversions"><i class="fa fa-chevron-up"></i></a>
                    </li>
                    <li class="dropdown">
                      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i
                          class="fa fa-wrench"></i></a>
                      <ul class="dropdown-menu" role="menu">
                        <li><a href="#">Settings 1</a>
                        </li>
                        <li><a href="#">Settings 2</a>
                        </li>
                      </ul>
                    </li>
                    <li><a class="close-link"><i class="fa fa-close"></i></a>
                    </li>
                  </ul>
                  <div class="clearfix"></div>
                </div>
                <div class="x_content" id="appversions">
                  <!-- orem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the
                  industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type
                  and scrambled it to make a type specimen book. It has survived not only five centuries, but also the
                  leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s
                  with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop
                  publishing software like Aldus PageMaker including versions of Lorem Ipsum. -->

                  <script>
                    // Radialize the colors
                    var user = JSON.parse(`{{ s | tojson | safe}}`);
                    Highcharts.setOptions({
                      colors: Highcharts.map(Highcharts.getOptions().colors, function (color) {
                        return {
                          radialGradient: {
                            cx: 0.5,
                            cy: 0.3,
                            r: 0.7
                          },
                          stops: [
                            [0, color],
                            [1, Highcharts.Color(color).brighten(-0.3).get('rgb')] // darken
                          ]
                        };
                      })
                    });

                    // Build the chart
                    Highcharts.chart('appversions', {
                      chart: {
                        plotBackgroundColor: null,
                        plotBorderWidth: null,
                        plotShadow: false,
                        type: 'pie',
                        width: 500,
                        height: 500
                      },
                      title: {
                        text: ''
                      },
                      tooltip: {
                        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                      },
                      plotOptions: {
                        pie: {
                          allowPointSelect: true,
                          cursor: 'pointer',
                          dataLabels: {
                            enabled: true,
                            format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                            style: {
                              color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                            },
                            connectorColor: 'silver'
                          }
                        }
                      },
                      exporting: { enabled: false },
                      series: [{
                        name: 'Performed',
                        data: user.val
                      }]
                    });
                  </script>
                </div>
              </div>
            </div>

            <div class="col-md-6 col-sm-4 col-xs-12">
              <div class="x_panel tile overflow_hidden">
                <div class="x_title">
                  <h2>Total Patients Count Department Wise</h2>
                  <ul class="nav navbar-right panel_toolbox">
                    <li><a class="collapse-link" data-toggle="collapse" data-target="#deviceusage"><i class="fa fa-chevron-up"></i></a>
                    </li>
                    <li class="dropdown">
                      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i
                          class="fa fa-wrench"></i></a>
                      <ul class="dropdown-menu" role="menu">
                        <li><a href="#">Settings 1</a>
                        </li>
                        <li><a href="#">Settings 2</a>
                        </li>
                      </ul>
                    </li>
                    <li><a class="close-link"><i class="fa fa-close"></i></a>
                    </li>
                  </ul>
                  <div class="clearfix"></div>
                </div>
                <div class="x_content" id="deviceusage">
                  <!-- <script src="/static/js/patientsSpecializations.js"></script> -->

                  <!-- orem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the
                  industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type
                  and scrambled it to make a type specimen book. It has survived not only five centuries, but also the
                  leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s
                  with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop
                  publishing software like Aldus PageMaker including versions of Lorem Ipsum. -->
                  <script>
                    var user = JSON.parse(`{{ j | tojson | safe}}`);
                    console.log(user);
                    var mo = user.Specialize
                    // document.getElementById('username').innerHTML = user
                    Highcharts.chart('deviceusage', {
                      chart: {
                        type: 'column',
                        // spacingBottom: 15,
                        // spacingTop: 10,
                        // spacingLeft: 10,
                        // spacingRight: 10,

                        // Explicitly tell the width and height of a chart
                        width: 500,
                        height: 500
                      },
                      exporting: { enabled: false },
                      title: {
                        text: '',
                        floating: false
                      },
                      xAxis: {
                        categories: mo,
                        crosshair: true
                      },
                      yAxis: {
                        min: 0,
                        title: {
                          text: 'Patients Count'
                        }
                      },
                      tooltip: {
                        headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                        pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                          '<td style="padding:0"><b>{point.y:.1f} Patients</b></td></tr>',
                        footerFormat: '</table>',
                        shared: true,
                        useHTML: true
                      },
                      plotOptions: {
                        column: {
                          pointPadding: 0.2,
                          borderWidth: 0
                        }
                      },
                      series: [{
                        name: 'Apollo Hospital',
                        data: user.Patients

                      }]
                    });

                  </script>
                </div>
              </div>
            </div>




          </div>
          <!-- second section ends-->
          <div class="row toggle-cards">
            <div class="col-md-6 col-sm-4 col-xs-12">
              <div class="x_panel tile ">
                <div class="x_title">
                  <h2>Referral count of Doctors</h2>
                  <ul class="nav navbar-right panel_toolbox">
                    <li><a class="collapse-link" data-toggle="collapse" data-target="#quicksettings"><i class="fa fa-chevron-up"></i></a>
                    </li>
                    <li class="dropdown">
                      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i
                          class="fa fa-wrench"></i></a>
                      <ul class="dropdown-menu" role="menu" id="">
                        <li><a href="#">Settings 1</a>
                        </li>
                        <li><a href="#">Settings 2</a>
                        </li>
                      </ul>
                    </li>
                    <li><a class="close-link"><i class="fa fa-close"></i></a>
                    </li>
                  </ul>
                  <div class="clearfix"></div>
                </div>
                <div class="x_content" id="quicksettings">
                  <div id="pi">
                    <script>
                      Highcharts.chart('pi', {
                        chart: {
                          plotBackgroundColor: null,
                          plotBorderWidth: null,
                          plotShadow: false,
                          type: 'pie'
                        },
                        title: {
                          text: ''
                        },
                        tooltip: {
                          pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                        },
                        plotOptions: {
                          pie: {
                            allowPointSelect: true,
                            cursor: 'pointer',
                            dataLabels: {
                              enabled: false
                            },
                            showInLegend: true
                          }
                        },
                        series: [{
                          name: 'Referral',
                          colorByPoint: true,
                          data: [{
                            name: 'Aiko Abbed ',
                            y: 14

                          }, {
                            name: 'Akilah Abbott ',
                            y: 10
                          }, {
                            name: 'Alix Abild ',
                            y: 26
                          }, {
                            name: 'Andera Abston',
                            y: 12
                          }, {
                            name: 'Arturo Addeo',
                            y: 17
                          },
                          {
                            name: 'Conrad Alfred',
                            y: 7
                          },
                          {
                            name: 'Jenice Arizaga',
                            y: 4
                          },
                          {
                            name: 'Lilly Aversa',
                            y: 38,
                            sliced: true,
                            selected: true
                          }]
                        }]
                      });
                    </script>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-md-6 col-sm-4 col-xs-12">
              <div class="x_panel tile ">
                <div class="x_title">
                  <h2>Patient Density</h2>
                  <ul class="nav navbar-right panel_toolbox">
                    <li><a class="collapse-link" data-toggle="collapse" data-target="#quicksettings"><i class="fa fa-chevron-up"></i></a>
                    </li>
                    <li class="dropdown">
                      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i
                          class="fa fa-wrench"></i></a>
                      <ul class="dropdown-menu" role="menu" id="">
                        <li><a href="#">Settings 1</a>
                        </li>
                        <li><a href="#">Settings 2</a>
                        </li>
                      </ul>
                    </li>
                    <li><a class="close-link"><i class="fa fa-close"></i></a>
                    </li>
                  </ul>
                  <div class="clearfix"></div>
                </div>
                <div class="x_content" id="quicksettings">
                  <form>
                    <div class="form-group" action="/" method="post" style="display:inline-block;margin-right:30px;">
                      <select required name="map" id="map" class="form-control">
                        <option value="Apollo Hospital">Apollo</option>
                        <option value="Fortis Hospital">Fortis</option>
                        <option value="Manipal Hospital">Manipal</option>

                      </select>

                      <!-- <label for="month">Month</label> -->
                      <!-- <input required class="form-control" name="monthName" style="border-radius: 8px;" type="text"> -->
                    </div>
                    <button class="btn btn-primary" type="button" id="mapHeat">Submit</button>
                  </form>
                  <!-- <div id='lab'> -->
                    <!-- <p>HSDG</p> -->
                    <div id='heatMapView'>
                      <script>
                        function highChartsMap(response) {
                          console.log(response);
                          Highcharts.chart('heatMapView', {
                            chart: {
                              type: 'tilemap',
                              height: '100%'
                            },

                            title: {
                              text: ''
                            },

                            xAxis: {
                              visible: false
                            },

                            yAxis: {
                              visible: false
                            },

                            legend: {
                              enabled: true,
                              layout: 'vertical',
                              align: 'left',
                              y: -20,
                              floating: true
                            },

                            colorAxis: {
                              dataClasses: [{
                                to: 50,
                                color: '#89e369',
                                // name: ''
                              }, {
                                from: 51,
                                to: 75,
                                color: '#42b917',
                                // name: 'Average'
                              }, {
                                from: 76,
                                to: 100,
                                color: '#278904',
                                // name: 'Strong'
                              }, {
                                from: 101,
                                to: 125,
                                color: '#7aff49',
                                // name: 'Stellar'
                              },
                              {
                                from: 126,
                                to: 150,
                                color: '#0b611a',
                                // name: 's'
                              },
                              {
                                from: 151,
                                to: 175,
                                color: '#2b7211',
                                // name: 'q'
                              }, {
                                from: 176,

                                color: '#12421b',
                                // name: 'e'
                              }]
                            },

                            tooltip: {
                              headerFormat: '',
                              pointFormat: 'Patients count of <b>{point.name}</b> is <b>{point.value}</b> '
                            },

                            plotOptions: {
                              series: {
                                tileShape: 'circle',
                                dataLabels: {
                                  enabled: true,
                                  format: '{point.iso-a3}',
                                  color: '#000000',
                                  style: {
                                    textOutline: false
                                  }
                                }
                              }
                            },

                            series: [{
                              data: [{
                                id: 'Ban',
                                name: 'Banshankri',

                                'region-web': 'Middle East & North Africa',
                                'iso-a3': 'Ban',
                                'iso-a2': 'Ban',
                                x: 2,
                                y: 5,
                                value: response.Banshankri.Count
                              }, {
                                id: 'Yel',

                                subregion: 'Northern Africa',
                                'region-web': 'Middle East & North Africa',
                                'iso-a3': 'Yel',
                                'iso-a2': 'Yel',
                                x: 6,
                                y: 5,
                                value: response.Yelahanka.Count
                              }, {
                                id: 'Vij',
                                name: 'Vijaynagar',
                                subregion: 'Northern Africa',
                                'region-web': 'Middle East & North Africa',
                                'iso-a3': 'Vij',
                                'iso-a2': 'Vij',
                                x: 4,
                                y: 5,
                                value: response.Vijaynagar.Count
                              }, {
                                id: 'Vid',
                                name: 'Vidyaranyapura',
                                subregion: 'Western Africa',
                                'region-web': 'Sub-Saharan Africa',
                                'iso-a3': 'Vid',
                                'iso-a2': 'Vid',
                                x: 2,
                                y: 4,
                                value: response.Vidyaranyapura.Count
                              }, {
                                id: 'Raj',
                                name: 'Rajajinagar',
                                subregion: 'Western Africa',
                                'region-web': 'Sub-Saharan Africa',
                                'iso-a3': 'Raj',
                                'iso-a2': 'Raj',
                                x: 4,
                                y: 4,
                                value: response.Rajajinagar.Count
                              }, {
                                id: 'Mal',
                                name: 'Malleshwaram',
                                subregion: 'Western Africa',
                                'region-web': 'Sub-Saharan Africa',
                                'iso-a3': 'Mal',
                                'iso-a2': 'Mal',
                                x: 6,
                                y: 4,
                                value: response.Malleshwaram.Count
                              }, {
                                id: 'Maha',
                                name: 'Mahalakshmi_Layout',
                                subregion: 'Western Africa',
                                'region-web': 'Sub-Saharan Africa',
                                'iso-a3': 'Maha',
                                'iso-a2': 'Maha',
                                x: 1,
                                y: 5,
                                value: response.Mahalakshmi_Layout.Count
                              }, {
                                id: 'Jay',
                                name: 'Jayanagar',
                                subregion: 'Western Africa',
                                'region-web': 'Sub-Saharan Africa',
                                'iso-a3': 'Jay',
                                'iso-a2': 'Jay',
                                x: 5,
                                y: 5,
                                value: response.Jayanagar.Count
                              }, {
                                id: 'JP',
                                name: 'JP_Nagar',
                                subregion: 'Western Africa',
                                'region-web': 'Sub-Saharan Africa',
                                'iso-a3': 'JP',
                                'iso-a2': 'JP',
                                x: 7,
                                y: 5,
                                value: response.JP_Nagar.Count
                              }, {
                                id: 'Han',
                                name: 'Hanumanthnagar',
                                subregion: 'Western Africa',
                                'region-web': 'Sub-Saharan Africa',
                                'iso-a3': 'Han',
                                'iso-a2': 'Han',
                                x: 3,
                                y: 5,
                                value: response.Hanumanthnagar.Count
                              }]
                            }]
                          });
                          // map graph

                        }
                        $(function () {
                          $('#mapHeat').click(function () {
                            $.ajax({
                              url: '/mapHeat',
                              data: $('form').serialize(),
                              type: 'POST',
                              success: function (response) {
                                // console.log(response)
                                // var datas=JSON.parse(response);

                                // console.log(datas)
                                highChartsMap(response);
                              },
                              error: function (error) {
                                console.log(error);
                              }
                            });
                          });
                        });

                      </script>

                    </div>

                  <!-- </div> -->
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- doctors page -->
        <div id="doctor-page">
          <!-- load doctors html dynaically onclick of doctor link in navbar refer script.js -->
          <h1 align="center" id="loading1" style="margin-top:100px">Loading...</h1>
        </div>
        <!-- doctors page end-->

        
        <!-- revenue page -->
        <div id="revenue-page">
          <!-- load personal html dynaically onclick of doctor link in nav refer script.js -->
          <!-- <p>revenue page</p> -->
          
          <h1 align="center" id="loading" style="margin-top:100px" >Loading...</h1>
        </div>
        <!-- revenue page end-->
      </div>


    </div>
  </div>

  <script src="../static/js/jquery.min.js" type="text/javascript"></script>
  <!-- {{ url_for('static', filename='js/jquery.min.js') }} -->
  <script src="../static/js/script.js"></script>
  <!-- {{ url_for('static', filename='js/script.js') }} -->
  <script src="../static/js/bootstrap.min.js"></script>
  <!-- {{ url_for('static', filename='js/bootstrap.min.js') }} -->
</body>

</html>